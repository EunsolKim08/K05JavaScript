<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu23.html</title>

    <style>
        input{
            margin: 3px;
            width: 80px;
        }
    </style>
    <script>
        // document.write("<h1>산수 문제를 풀어 봅시다.</h1>");
        // document.write("수식을 계산하여 답을 입력하고 채점 버튼을 누르세요.");
        // document.write("<hr>");

        // function calculator(num){
        //     var getString = document.getElementsByTagName("input");
        //     var x = getString.value;
        //     if(num == 1){
        //      var ans1 = 5*6;
        //      if(x == ans1){
        //          document.write("정답");
        //      }
        //     }
        //     else if(num == 2){
        //      var ans2 = 7+5*3;
        //     }
        //     else if(num == 3){
        //      var ans3 = 23*2;
        //     }
        //     else{
        //         var ans4 = 35-7;
        //     }
        // }


    </script>
</head>
<body>
    <!-- <span style="margin: 5px;"> 5*6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" maxlength="5" name="answer1"><br></span>
    <span style="margin: 5px;">7+5*3 &nbsp;<input type="text" maxlength="5" name="answer2" ><br></span>
    <span style="margin: 5px;">23*2 &nbsp;&nbsp;&nbsp;<input type="text" maxlength="5" name="answer3"><br></span>
    <span style="margin: 5px;"> 35-7 &nbsp;&nbsp;&nbsp;<input type="text" maxlength="5" name="answer4"><br></span>
    <br>
    <input type="button" value="채점" onclick="calculator"> -->

    <script>
        function cal(){
            //문제를 class 명을 통해 얻어온다.
            var quArr = document.getElementsByClassName("question");

            //사용자가 입력한 정답을 class명을 통해 어어온다.
            var anArr = document.getElementsByClassName("answer");
            //정답 갯수를 카운트
            var total =0;

            //배열의 크기만큼 반복하면서 문제와 정답을 확인한다.
            for(var i =0 ; i<quArr.length ; i++){
                // td태그 사이의 문자는 innerHTML이다. 따라서 해당 클래스의 여러문제를 array형식으로 가져온다.
                console.log("문제", quArr[i].innerHTML);
                console.log("정답", eval(quArr[i].innerHTML));

                //Javascript에서 직접 계산한 정답. 그 안의 문자를 가져오므로 innerHTML
                var calAnswer = eval(quArr[i].innerHTML);
                //사용자가 입력한 정답. input 태그로 입력된 값은 value를 얻어야함.
                //option의 경우 value또는 txt임.
                var userAnswer = anArr[i].value;

                if(calAnswer == userAnswer){
                    //정답인 경우
                    total++;
                }
                else{
                    //오답인 경우.. 문자 중간에 줄긋기.
                    quArr[i].style.textDecoration = "line-through";
                }
            }
            document.getElementById("score").innerHTML = "정답갯수: " + total;
        }
    </script>
    <h2>산수 문제를 풀어봅시다.</h2>
    <hr>
    <form>
        <table>
            <tr>
                <td class="question">5*6</td>
                <td><input type="text" class="answer" size="10" /></td>
            </tr>
            <tr>
                <td class="question">7+5*3</td>
                <td><input type="text" class="answer" size="10" /></td>
            </tr>
            <tr>
                <td class="question">23*2</td>
                <td><input type="text" class="answer" size="10" /></td>
            </tr>
            <tr>
                <td class="question">35-7</td>
                <td><input type="text" class="answer" size="10" /></td>
            </tr>
            <tr>
                <td>
                    <button type="button" onclick="cal();">
                        채점
                    </button>
                </td>
                <td>
                    <span id="score">정답갯수:0</span>
                </td>
            </tr>
        </table>
    </form>

</body>
</html>