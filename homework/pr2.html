<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration01.html</title>
    <style>
        *{font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 12px;margin: 0px auto;}
        form{margin-top: 20px;}
        input, select, button {border: 1px solid #afafaf;}
        input.userInput{padding:3px 2px;}
        select.userSelect{padding:2px 0;}
        .c_imp{color: red;}
        .userTable{border: none; border-collapse: collapse; width: 670px;}
        .userTable td{padding:10px; border: 1px solid #b9babb;}
        .userTable td.userTit{background-color: #E4E6E9; font-weight: bold;}
        .btn_search{background-color: #3d3d3d; color: #ffffff; width: 70px; height: 23px; padding:1px 0 2px;}
        .btn_search:hover{background-color: #6d6d6d;}        
        .btn_submit{width:120px;height:28px;font-weight:bold;cursor:pointer;background-color: #E70E16;color:white;font-size: 14px;}
        .btn_cancel{width:120px;height:28px;font-weight:bold;cursor:pointer;background-color: #464646;color:white;font-size: 14px;}
        .w20{width:20px;} .w30{width:30px;} .w40{width:40px;} .w50{width:50px;} .w100{width:100px;} 
        .w300{width:300px;} .w510{width:510px;} .w410{width:410px;} 
        #id_loading{position:absolute;top:530px;z-index:10;width:100%;text-align:center;display:block;}
    </style>

    <script>

        //페이지 로딩된 직후에 자동으로 실행하면서 selectbox에 옵션값을 부여
        window.onload = function()
        {
            var bth1_Opt = "";            
            //생년월일 "년" 옵션설정(1989~2021)
            for(var i = 1989; i<=2021; i++)
            {
                bth1_Opt += "<option value='"+i+"'>"+i+"</option>";
            }
            document.myform.birth1.innerHTML = bth1_Opt;

            var bth2_Opt = "";         
            //생년월일 "월" 옵션설정(1~12)
            for(var i = 1; i<=12; i++)
            {
                bth2_Opt += "<option value='"+i+"'>"+i+"</option>";
            }
            document.myform.birth2.innerHTML = bth2_Opt;

            var bth3_Opt = "";       
            //생년월일 "일" 옵션지정(1~31)
            for(var i = 1; i<=31; i++)
            {
                bth3_Opt += "<option value='"+i+"'>"+i+"</option>";
            }
            document.myform.birth3.innerHTML = bth3_Opt;

            //전화번호 "국번" 옵션지정 (개노가다)
            var phnOpt = "<option value='02'>02</option>"
                            +"<option value='031'>031</option>"
                            +"<option value='032'>032</option>"
                            +"<option value='033'>033</option>"
                            +"<option value='041'>041</option>"
                            +"<option value='042'>042</option>"
                            +"<option value='043'>043</option>"
                            +"<option value='044'>044</option>"
                            +"<option value='051'>051</option>"
                            +"<option value='052'>052</option>"
                            +"<option value='053'>053</option>"
                            +"<option value='054'>054</option>"
                            +"<option value='055'>055</option>"
                            +"<option value='061'>061</option>"
                            +"<option value='062'>062</option>"
                            +"<option value='063'>063</option>"
                            +"<option value='064'>064</option>";
            document.myform.phone1.innerHTML = phnOpt;

            //휴대전화 "국번" 옵션지정
            var hPhnOpt = "";
            for(var i=0; i<=9; i++)
            {
                hPhnOpt += "<option value='01"+i+"'>01"+i+"</option>";
            }
            document.myform.hphone1.innerHTML = hPhnOpt;
           
        }

        /* 주요 함수.
        submit신호가 들어오면 공백, 예외 등을 순차적으로 처리하고,
        문제가 있다면 false를 반환해서 전송을 중지한다. */
        function validate(imForm)
        {
            var imId = imForm.id;
            var imIdVal = imId.value;
            //아이디 공백 체크(공백이면 포커스 이동)
            if(imIdVal=="")
            {
                alert("아이디를 입력해주세요.");
                imId.focus();
                return false;
            }
            //아이디 첫글자 숫자인지 체크(잘못됐으면 포커스 이동)
            if(imIdVal.charCodeAt(0) >= 48 && imIdVal.charCodeAt(0) <=57)
            {
                alert("아이디의 첫글자는 숫자를 입력할 수 없습니다.");
                imId.focus();
                return false;
            }
            //아이디에 영문자나 숫자 외에 다른 문자가 있는지 체크(포커스 이동)
            for(var i=0; i<imIdVal.length; i++)
            {
                if(imIdVal.charCodeAt(i) < 48 
                    || (imIdVal.charCodeAt(i)>57 && imIdVal.charCodeAt(i) < 65) 
                    || (imIdVal.charCodeAt(i) > 90 && imIdVal.charCodeAt(i) < 97) 
                    || (imIdVal.charCodeAt(i) > 122))
                {
                    alert("아이디는 영문자나 숫자만 입력할 수 있습니다.");
                    imId.focus();
                    return false;
                }
            }

            var imPw1Val = imForm.pass1.value;
            var imPw2Val = imForm.pass2.value;
            //비밀번호 공백 체크(포커스 이동)
            if(imPw1Val == "")
            {
                alert("비밀번호를 입력해주세요.");
                imForm.pass1.focus();
                return false;
            }
            //비밀번호 확인 공백 체크(포커스 이동)
            if(imPw2Val == "")
            {
                alert("비밀번호를 입력해주세요.");
                imForm.pass2.focus();
                return false;
            }
            //비밀번호와 비밀번호 확인이 다른지 체크(포커스 이동)
            if(imPw1Val != imPw2Val)
            {
                alert("비밀번호가 일치하지 않습니다.");
                imForm.pass1.value = "";
                imForm.pass2.value = "";
                imForm.pass1.focus();
                return false;
            }

            var imNameVal = imForm.name.value;
            //이름 공백 체크(포커스 이동)
            if(imNameVal=="")
            {
                alert("이름을 입력해주세요.");
                imForm.name.focus();
                return false;
            }

            var imEmailVal_1 = imForm.email1.value;
            var imEmailVal_2 = imForm.email2.value;
            //이메일 주소 앞자리 공백 체크(포커스 이동)
            if(imEmailVal_1=="")
            {
                alert("이메일 주소를 입력하세요.");
                imForm.email1.focus();
                return false;
            }
            //이메일 주소 뒷자리 공백 체크(포커스 이동)
            if(imEmailVal_2=="")
            {
                alert("이메일 주소를 입력하세요.");
                imForm.email2.focus();
                return false;
            }

            // //주소를 클래스로 묶어서 배열로 저장
            // var adrArr = document.getElementsByClassName("address");
            // //주소 공백 확인(빈 입력란으로 포커스 이동)
            // for(var i=0; i<adrArr.length; i++)
            // {
            //     if(adrArr[i].value == "")
            //     {
            //         alert("주소를 입력하세요.");
            //         adrArr[i].focus();
            //         return false;
            //     }
            // }

            //전화번호를 클래스로 묶어서 배열로 저장
            var phnArr = document.getElementsByClassName("phone");
            //전화번호 공백 확인(빈 입력란으로 포커스 이동)
            for(var i=0; i<phnArr.length; i++)
            {
                if(phnArr[i].value == "")
                {
                    alert("전화번호를 입력하세요.");
                    phnArr[i].focus();
                    return false;
                }
            }
            
            //휴대전화번호를 클래스로 묶어서 배열로 저장
            var hphnArr = document.getElementsByClassName("hphone");
            //휴대전화번호 공백 확인(빈 입력란으로 포커스 이동)
            for(var i=0; i<hphnArr.length; i++)
            {
                if(hphnArr[i].value == "")
                {
                    alert("휴대전화번호를 입력하세요.");
                    hphnArr[i].focus();
                    return false;
                }
            }

            var imInterest = imForm.etc_no1;
            var imInterestVal = imInterest.value;
            //관심분야 공백 체크(공백이면 포커스 이동)
            if(imInterestVal=="")
            {
                alert("관심분야를 선택해주세요.");
                imInterest.focus();
                return false;
            }
            
            var imWay = imForm.etc_no2;
            var imWayVal = imWay.value;
            //관심분야 공백 체크(공백이면 포커스 이동)
            if(imWayVal=="")
            {
                alert("가입경로를 선택해주세요.");
                imWay.focus();
                return false;
            }
        }

        /* select 상자에서 이메일을 선택하면 자동으로 입력해주는 함수.
            옵션을 선택하면 그 값(value)를 받아 옆의 value값을 바꿔주는 방식. */
        function selectEmail(value)
        {
            document.myform.email2.value = value;
        }

        /* selectbox에서 포커스 이동하는 함수 
            다음 요소의 이름을 전달받아서 처리*/
        function focusMove1(nextEle)
        {
            document.getElementsByName(nextEle)[0].focus();
        }


        /* textbox에서 포커스 이동하는 함수 
            현재요소의 이름, 제한숫자, 다음요소의 이름을 전달받아서 처리*/
        function focusMove2(thisEle, eleLength, nextEle)
        {
            var thisElement = document.getElementsByName(thisEle)[0];
            var strLength = thisElement.value.length;
            if(strLength>=eleLength)
            {
                document.getElementsByName(nextEle)[0].focus();
            }
        }

    </script>
</head>
<body>
    <!-- ./join_write_end1stp.php --> <!-- POST -->
    <form name="myform" action="" method="get" onsubmit="return validate(this);">
        <table class="userTable">
            <colgroup>
                <col width="130px" />
                <col width="540px" />
            </colgroup>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 아이디</td>
                <td class="userVal">
                    <input type="text" name="id" value="" maxlength="12" class="userInput"
                        style="width:120px;" />                    
                    <button type="button" class="btn_search" onClick="">중복확인</button>
                    <span style="margin-left:10px;"></span>
                    <span style="color:#888888;">+ 8~12자, 첫 영문자, 영문자와 숫자 조합</span>
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 비밀번호</td>
                <td class="userVal">
                    <input type="password" name="pass1" value="" style="width:100px;" class="userInput"
                        maxlength="25" />
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 비밀번호 확인</td>
                <td class="userVal">
                    <input type="password" name="pass2" value="" style="width:100px;" class="userInput"
                        maxlength="25" />
                    <span style="margin:0 0 0 3px;color:#888888;">(확인을 위해 다시 입력해 주세요.)</span>
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 이름</td>
                <td class="userVal">
                    <input type="text" name="name" value="" style="width:120px;" class="userInput" maxlength="10" />
                </td>
            </tr>
            <tr>
                <td class="userTit"><span style="margin-left:10px;"></span> 생년월일</td>
                <td class="userVal">
                    <label><input type="radio" name="sex" value="male" checked />남자</label>
                    <label><input type="radio" name="sex" value="female" />여자</label>
                    <span style="margin-left:20px;"></span>
                    <select name="birth1"></select>            
                    <span style="margin:0 5px 0 1px;">년</span>
                    <select name="birth2"></select>
                    <span style="margin:0 5px 0 1px;">월</span>
                    <select name="birth3"></select>
                    <span style="margin:0 15px 0 1px;">일</span>
                    <span style="margin:0 0 0 3px;color:#888888;">(예 : 2000년 01월 31일)</span>
                </td>
            </tr>
            <tr>
                <td class="userTit" rowspan="2"><span class="c_imp">*</span> 이메일</td>
                <td class="userVal">
                    <input type="text" name="email1" value="" class="userInput w100" />
                    <span style="font-size:16px;">＠</span>
                    <input type="text" name="email2" value="" class="userInput w100" />
                    <select name="email_sel" onchange="selectEmail(this.value);" class="userSelect w100">
                        <option value=""> -- 선택 --</option>
                        <option value="naver.com">naver.com</option>
                        <option value="nate.com">nate.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hanmail.net">hanmail.net</option>
                        <option value="직접입력" selected>직접입력</option>
                    </select>
                    <label><input type="radio" name="mailing" value="yes" checked />수신허용</label>
                    <label><input type="radio" name="mailing" value="no" />수신불가</label>
                </td>
            </tr>
            <tr>
                <td class="userVal" style="height:25px;color:#888888;">
                	※ hanmail.net은 메일 수신이 어려울 수 있으니 가급적 다른 메일을 이용하시기 바랍니다.
                </td>
            </tr>
            <tr>
                <td class="userTit" rowspan="3"><span style="margin-left:10px;"></span> 주소</td>
                <td class="userVal">
                    <button type="button" class="btn_search" onClick="">주소찾기</button>
                    <input type="text" name="zipcode" maxlength="10" value="" class="userInput w50 address" /> (우편번호)
                </td>
            </tr>
            <tr>
                <td class="userVal">
                    <input type="text" name="addr1" class="userInput w510 address" maxlength="100" value="" />
                </td>
            </tr>
            <tr>
                <td class="userVal">
                    <input type="text" name="addr2" class="userInput w410 address" maxlength="100" value="" />
                    <span style="margin-left:10px;"></span>
                    + 나머지 주소
                </td>
            </tr>
            <tr>
                <td class="userTit"><span style="margin-left:10px;"></span> 전화번호</td>
                <td class="userVal">
                    <select name="phone1" class="phone" onchange="focusMove1('phone2');"></select> -
                    <input type="text" name="phone2" value="" class="userInput w40 phone" 
                        maxlength="4" onkeyup="focusMove2('phone2',4,'phone3');"> -
                    <input type="text" name="phone3" value="" class="userInput w40 phone" 
                        maxlength="4" onkeyup="focusMove2('phone3',4,'hphone1');">
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 휴대전화</td>
                <td class="userVal">
                    <select name="hphone1" class="hphone" onchange="focusMove1('hphone2');"></select> -
                    <input type="text" name="hphone2" value="" class="userInput w40 hphone" 
                        maxlength="4" onkeyup="focusMove2('hphone2',4,'hphone3');"> -
                    <input type="text" name="hphone3" value="" class="userInput w40 hphone" 
                        maxlength="4" onkeyup="focusMove2('hphone3',4,'sms');">
                    <span style="margin-left:20px;"></span>
                    <label><input type="radio" name="sms" value="yes" checked />SMS 수신허용</label>
                    <label><input type="radio" name="sms" value="no" />SMS 수신불가</label>
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 관심분야</td>
                <td class="userVal" style="padding:3px 0 3px 10px;">
                    <select name="etc_no1" class="userSelect w300">
                        <option value="">:: 관심분야 선택 ::</option>
                        <option value="1">책을 출판하기 위해서</option>
                        <option value="3">인쇄/제본이 필요해서</option>
                        <option value="4">1인출판사 지원서비스를 이용하기 위해서</option>
                        <option value="5">도서를 구입하기 위해서</option>
                        <option value="6">나만의 책만들기</option>
                        <option value="7">기타</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td class="userTit"><span class="c_imp">*</span> 가입경로</td>
                <td class="userVal" style="padding:3px 0 3px 10px;">
                    <select name="etc_no2" class="userSelect w300">
                        <option value="">:: 가입경로 선택 ::</option>
                        <option value="2">네이버 검색</option>
                        <option value="8">다음(Daum) 검색</option>
                        <option value="9">기타 인터넷 검색</option>
                        <option value="10">아는 사람 소개</option>
                        <option value="11">북랩의 책을 보고</option>
                        <option value="12">기타</option>
                    </select>
                </td>
            </tr>
        </table>
        <table style="width:670px; margin-top:20px;">
            <tr>
                <td align="center">                    
                    <input type="submit" value="등록하기" class="btn_submit" />
                    &nbsp;&nbsp;
                    <input type="reset" value="새로쓰기" class="btn_cancel" />
                </td>
            </tr>
        </table>
        <!-- <div id="id_loading">
            <img src="../images/loading.gif" style="width:40%;" />
        </div> -->
    </form>
</body>
</html>




